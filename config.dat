# ==============================================================
#      OBS C SDK Benchmark Configuration File
# ==============================================================

# --------------------------------------------------------------
# 1. 环境与基础网络配置 (Environment & Network)
# --------------------------------------------------------------
Endpoint=obs.ap-southeast-1.myhuaweicloud.com
Protocol=https
KeepAlive=true
LogLevel=INFO

# --------------------------------------------------------------
# 2. 并发与用户、桶配置 (Concurrency & Users)
# --------------------------------------------------------------
# 加载 users.dat 中的前 N 个用户
Users=1
# 每个用户启动的线程数 (总线程数 = Users * ThreadsPerUser)
ThreadsPerUser=1000

# 智能桶名生成规则：
# - 最高优先级: BucketNameFixed (如果不为空，所有请求都强制打向这个桶)
# - 次优先级: {当前用户AK小写}.{BucketNamePrefix}
BucketNameFixed=
BucketNamePrefix=bench.test

# --------------------------------------------------------------
# 3. 压测用例与执行计划 (Test Plan & Mode)
# --------------------------------------------------------------
# 测试用例: 201=PUT, 202=GET, 204=DELETE, 216=MULTIPART, 230=RESUMABLE, 900=MIX
TestCase=201

# 退出条件配置 (二选一，如果都配置则谁先满足谁退出)
# RunSeconds: 按时间限制运行 (留空或 0 表示不限时)
RunSeconds=
# RequestsPerThread: 按每个线程的请求量限制 (留空或 0 表示不限制)
RequestsPerThread=2

# 混合操作配置 (仅在 TestCase=900 或通过 CLI 强制开启混压时生效)
MixOperation=201,202,204
MixLoopCount=1

# --------------------------------------------------------------
# 4. 对象与数据属性 (Object Settings)
# --------------------------------------------------------------
# 支持固定大小 (如 4096) 或动态大小范围 (如 1024~4096)
ObjectSize=4096 
PartSize=5242880
KeyPrefix=obj

# true: 开启 LCG 伪随机哈希前缀，避免对象名线性累加导致存储热点
ObjNamePatternHash=true

# Range 下载参数 (分号隔开，GET 请求随机从中挑选。如: 0-1023; 1024-2047)
Range=

# --------------------------------------------------------------
# 5. 断点续传与数据校验 (File & Validation)
# --------------------------------------------------------------
# 开启下载时的数据异构一致性校验 (零拷贝环形缓冲比对)
EnableDataValidation=false

# 开启 RESUMABLE 上传时的本地文件生成与断点目录开关
UploadFilePath=./test_data.bin
EnableCheckpoint=true

# --------------------------------------------------------------
# 6. 安全与加密 (Security & TLS)
# --------------------------------------------------------------
GmModeSwitch=false
SslMinVersion=1.2
SslMaxVersion=1.3

MutualSslSwitch=false
ClientCertPath=
ClientKeyPath=
ClientKeyPassword=

# --------------------------------------------------------------
# 7. 监控与日志记录 (Logging & Monitor)
# --------------------------------------------------------------
# true: 开启请求级明细流水记录，将生成按任务归档的 detail.csv
EnableDetailLog=true
